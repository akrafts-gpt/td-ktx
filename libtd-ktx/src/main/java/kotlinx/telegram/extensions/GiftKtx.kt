//
// NOTE: THIS FILE IS AUTO-GENERATED by the "ExtensionsGenerator".kt
// See: https://github.com/tdlibx/td-ktx-generator/
//
package kotlinx.telegram.extensions

import kotlin.Array
import kotlin.Boolean
import kotlin.Int
import kotlin.String
import kotlinx.telegram.core.TelegramFlow
import kotlinx.telegram.coroutines.canSendGift
import kotlinx.telegram.coroutines.getGiftUpgradePreview
import kotlinx.telegram.coroutines.searchGiftsForResale
import kotlinx.telegram.coroutines.sendGift
import org.drinkless.tdlib.TdApi
import org.drinkless.tdlib.TdApi.FormattedText
import org.drinkless.tdlib.TdApi.Gift
import org.drinkless.tdlib.TdApi.GiftForResaleOrder
import org.drinkless.tdlib.TdApi.MessageSender
import org.drinkless.tdlib.TdApi.UpgradedGiftAttributeId

/**
 * Interface for access [TdApi.Gift] extension functions. Can be used alongside with other extension
 * interfaces of the package. Must contain [TelegramFlow] instance field to access its functionality
 */
interface GiftKtx : BaseKtx {
  /**
   * Instance of the [TelegramFlow] connecting extensions to the Telegram Client
   */
  override val api: TelegramFlow

  /**
   * Suspend function, which checks whether a gift with nextSendDate in the future can be sent
   * already.
   *
   *
   * @return [TdApi.CanSendGiftResult] This class is an abstract base class.
   */
  suspend fun Gift.canSend() = api.canSendGift(this.id)

  /**
   * Suspend function, which returns examples of possible upgraded gifts for a regular gift.
   *
   *
   * @return [TdApi.GiftUpgradePreview] Contains examples of possible upgraded gifts for the given
   * regular gift.
   */
  suspend fun Gift.getUpgradePreview() = api.getGiftUpgradePreview(this.id)

  /**
   * Suspend function, which returns upgraded gifts that can be bought from other owners using
   * sendResoldGift.
   *
   * @param order Order in which the results will be sorted.  
   * @param attributes Attributes used to filter received gifts. If multiple attributes of the same
   * type are specified, then all of them are allowed. If none attributes of specific type are
   * specified, then all values for this attribute type are allowed.  
   * @param offset Offset of the first entry to return as received from the previous request with
   * the same order and attributes; use empty string to get the first chunk of results.  
   * @param limit The maximum number of gifts to return.
   *
   * @return [TdApi.GiftsForResale] Describes gifts available for resale.
   */
  suspend fun Gift.searchsForResale(
    order: GiftForResaleOrder?,
    attributes: Array<UpgradedGiftAttributeId>?,
    offset: String?,
    limit: Int
  ) = api.searchGiftsForResale(this.id, order, attributes, offset, limit)

  /**
   * Suspend function, which sends a gift to another user or channel chat. May return an error with
   * a message &quot;STARGIFT_USAGE_LIMITED&quot; if the gift was sold out.
   *
   * @param ownerId Identifier of the user or the channel chat that will receive the gift; limited
   * gifts can't be sent to channel chats.  
   * @param text Text to show along with the gift; 0-getOption(&quot;gift_text_length_max&quot;)
   * characters. Only Bold, Italic, Underline, Strikethrough, Spoiler, and CustomEmoji entities are
   * allowed. Must be empty if the receiver enabled paid messages.  
   * @param isPrivate Pass true to show gift text and sender only to the gift receiver; otherwise,
   * everyone will be able to see them.  
   * @param payForUpgrade Pass true to additionally pay for the gift upgrade and allow the receiver
   * to upgrade it for free.
   */
  suspend fun Gift.send(
    ownerId: MessageSender?,
    text: FormattedText?,
    isPrivate: Boolean,
    payForUpgrade: Boolean
  ) = api.sendGift(this.id, ownerId, text, isPrivate, payForUpgrade)
}
